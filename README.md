<a name="LqSBS"></a>
# 在线文档

 [云音乐 (yuque.com)](https://www.yuque.com/maofu-rzqcp/snisqw/sg0u1zd77cn86srz) 



# 简介

在数字化时代，音乐不再仅仅是一种娱乐方式，它已经成为我们生活中不可或缺的一部分。无论是放松身心、激发创造力，还是与朋友分享喜悦，音乐都有着不可比拟的力量。现在，一个全新的微信小程序项目——“云音乐”为您带来了发现音乐的全新方式。  



## 主要功能特点

1. **音乐搜索和播放：** 通过云音乐，您可以轻松搜索和播放数百万首歌曲，包括最新的热门单曲和经典老歌。
2. **个人化推荐：** 云音乐会根据您的听歌习惯和喜好向您推荐新音乐，让您不断发现新的音乐宝藏。
3. **歌词同步显示：** 想要跟着歌词一起唱？云音乐会将歌词实时同步显示，让您更深入地感受音乐的魅力。
4. **创建播放列表：** 您可以轻松创建和管理自己的播放列表，根据心情或场合随时切换不同的音乐列表。
5. **开源项目：** 云音乐是一个开源项目，您可以自由查看和修改其源代码，根据自己的需求进行定制。
6. **使用开源API接口：**云音乐使用了开源的api接口，可以运行在node.js等服务端中，你可以轻松的部署自己的接口服务器。
7. **视频播放器：**你可以观看歌曲MV等视频。
8. 歌单中心，视频中心，电台中心，排行榜，搜索中心，用户收藏，用户观看记录...



## 技术栈
| **技术名** | **功能** | **官网** |
| --- | --- | --- |
| 原生微信小程序 | 开发微信小程序 | [微信开放文档](https://developers.weixin.qq.com/miniprogram/dev/framework/) |
| TDesign  | UI组件库 | [TDesign](https://tdesign.tencent.com/miniprogram/getting-started) |
| Sass | css预处理器 | [Sass: Syntactically Awesome Style Sheets](https://sass-lang.com/) |
| mobx-miniprogram | 全局状态管理 | [mobx-miniprogram](https://www.npmjs.com/package/mobx-miniprogram) |

<a name="A52jH"></a>
## 视频预览
https://www.bilibili.com/video/BV1rK4y1w7m6

## 图片预览
<a name="xvvJV"></a>
### 登录
![Screenshot_2023-09-06-16-02-40-878_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693987512258-829bb33c-6a27-4885-8f84-7b960305dc88.jpeg#averageHue=%23b2b5b3&clientId=u0a64b032-cffd-4&from=drop&id=ub5d14060&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=588298&status=done&style=none&taskId=uda09e6ba-16e0-4650-9cc6-efdb6a7b9c4&title=)<br />![Screenshot_2023-09-06-16-03-25-162_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693987524940-7104933c-6d21-4f9c-88c7-38e355e256bc.jpeg#averageHue=%23736d66&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u3b5acf55&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=503636&status=done&style=none&taskId=u3c43c6c7-fdc5-4937-9dce-463e017b4bc&title=&width=720)
<a name="L7IV4"></a>
### 首页
![Screenshot_2023-09-06-15-41-14-271_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693986725277-5be181a6-1c43-428b-a2a7-03e2ad1f6dfc.jpeg#averageHue=%23d6d3d2&clientId=u0a64b032-cffd-4&from=drop&height=585&id=Hi2uT&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=742681&status=done&style=none&taskId=ub79ac559-a213-4510-b888-93f03804bb8&title=&width=270)<br />![Screenshot_2023-09-06-16-10-31-838_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693987850635-830cf92b-1ed0-4f3f-b51b-318f15adb169.jpeg#averageHue=%23dddad8&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=ubb63bdd9&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=600751&status=done&style=none&taskId=u65bb19ba-23cf-4207-b043-4c2df90a971&title=&width=720)
<a name="m1Hpg"></a>
#### 搜索中心
![Screenshot_2023-09-06-15-41-56-070_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693986831655-19eb787b-90ec-4cba-8e6e-34fe3dd83f0e.jpeg#averageHue=%23ebebeb&clientId=u0a64b032-cffd-4&from=drop&height=585&id=eQgzx&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=194526&status=done&style=none&taskId=u894fa743-db12-4d29-a89f-bbb67eddea4&title=&width=270)<br />![Screenshot_2023-09-06-15-46-41-398_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693986613034-11b04ce9-976a-41ce-ae77-ecb5c0abb826.jpeg#averageHue=%23ededed&clientId=u0a64b032-cffd-4&from=drop&height=585&id=mGBvA&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=150388&status=done&style=none&taskId=u704544e6-a124-4cb7-81d1-aa4a428bed1&title=&width=270)<br />![Screenshot_2023-09-06-15-43-13-842_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693986991259-fbeefebe-8e10-4936-a148-bcb7f674666b.jpeg#averageHue=%23ebebeb&clientId=u0a64b032-cffd-4&from=drop&id=u5fd08e0a&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=223464&status=done&style=none&taskId=u25ff2a97-ac16-4d69-9a87-ce65a50c87c&title=)<br />![Screenshot_2023-09-06-15-43-30-766_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693987020337-0a631c8c-9119-43d4-b42a-4db242ccd124.jpeg#averageHue=%23e4e4e3&clientId=u0a64b032-cffd-4&from=drop&id=ua2c1dcfe&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=503922&status=done&style=none&taskId=u7fad941a-0b78-4839-9f98-a81b861955c&title=)<br />![Screenshot_2023-09-06-15-43-48-286_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693987072385-c0589455-6bdc-4b08-9754-7a44dff82879.jpeg#averageHue=%23ebebeb&clientId=u0a64b032-cffd-4&from=drop&id=u016b270d&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=209276&status=done&style=none&taskId=uba86832a-9105-401d-9d9d-dec7554c055&title=)<br />![Screenshot_2023-09-06-15-44-43-278_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693987093458-19e7b6ad-a5db-43e4-8d98-4caca78e994c.jpeg#averageHue=%23e4e4e4&clientId=u0a64b032-cffd-4&from=drop&id=ueb044d38&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=430845&status=done&style=none&taskId=ud5c3956b-1392-4827-95aa-39b23030902&title=)<br />![Screenshot_2023-09-06-15-45-11-496_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693987117822-17394cf4-83b3-44da-bf49-d499eaaaa5e9.jpeg#averageHue=%23e3e2e1&clientId=u0a64b032-cffd-4&from=drop&id=ua54c2bba&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=527434&status=done&style=none&taskId=uf9cea3a5-db37-45a5-9f78-0f31082c894&title=)<br />![Screenshot_2023-09-06-15-46-10-907_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693987139626-a336b874-9593-4826-8b78-f325e5e2b385.jpeg#averageHue=%23ebebeb&clientId=u0a64b032-cffd-4&from=drop&id=u5e2e44d5&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=195049&status=done&style=none&taskId=u0d10109a-5848-4155-8474-9d38d071d29&title=)

<a name="xUFKQ"></a>
#### 每日推荐
![Screenshot_2023-09-06-16-08-10-700_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693987716626-06cdd4c4-8251-4f84-8b1f-acdd9272beb7.jpeg#averageHue=%23e0dedc&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u0974d26f&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=480027&status=done&style=none&taskId=uc14c3c75-4144-44c8-98cf-4aa5d2679a9&title=&width=720)


<a name="Zf1Xw"></a>
#### 歌单中心
![Screenshot_2023-09-06-16-11-53-556_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693987987581-4d8b342e-5b36-4172-b656-f2a305e585fd.jpeg#averageHue=%23c3c2a6&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u1854ee4d&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=842963&status=done&style=none&taskId=uc29a5031-6116-43fc-ba6a-09177d9022b&title=&width=720)<br />![Screenshot_2023-09-06-16-12-33-298_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693987991870-cfc89337-87be-4954-b72f-dbf1c683ed85.jpeg#averageHue=%23f8f8f6&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u1ce6f8cc&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=222230&status=done&style=none&taskId=uc529a177-6031-4ecf-9512-f8aac35a6f1&title=&width=720)
<a name="BZk3m"></a>
#### 排行榜
![Screenshot_2023-09-06-16-14-40-045_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693988096192-2adba61a-b1da-450e-97a5-5bdccce09738.jpeg#averageHue=%23cea074&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u7f3bb9a5&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=432235&status=done&style=none&taskId=uc286e8eb-7641-4191-92cb-6141783cd1a&title=&width=720)

<a name="gU8on"></a>
#### 电台中心
![Screenshot_2023-09-06-16-15-44-937_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693988245620-835fdede-9380-40ce-acc0-ef9ec70fb1e4.jpeg#averageHue=%23d7d2d0&clientId=u0a64b032-cffd-4&from=drop&id=ub5570bd1&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=697797&status=done&style=none&taskId=u6004054a-569d-46b4-b64f-77d77da3e88&title=)<br />![Screenshot_2023-09-06-16-16-09-102_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693988250473-6de3edc8-1f99-4b5c-a03c-6fcdc90ec417.jpeg#averageHue=%23e4e3e2&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u70bf2386&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=439014&status=done&style=none&taskId=ue22191c1-8063-424e-b1a0-43ee83db84a&title=&width=720)

<a name="HMhGK"></a>
### 视频中心
![Screenshot_2023-09-06-16-20-59-848_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693988520451-7396a790-97c4-477d-a772-aec7e4093df3.jpeg#averageHue=%23c6c1bc&clientId=u0a64b032-cffd-4&from=drop&id=u68b0b740&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=787383&status=done&style=none&taskId=u33391dba-057d-41ae-99a0-00f3df4c81f&title=)<br />![Screenshot_2023-09-06-16-21-34-472_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693988527653-43dd49c6-2ef6-429a-bc0d-9d3286641771.jpeg#averageHue=%23c2b9a3&clientId=u0a64b032-cffd-4&from=drop&id=u7d1e1c0d&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=554504&status=done&style=none&taskId=u95334942-c5b7-4960-bb3c-33c1873ecb1&title=)

<a name="cxWJB"></a>
### 个人中心
![Screenshot_2023-09-06-16-22-48-608_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693988920865-0aa48b94-8e70-4400-8a72-f4bae25c121c.jpeg#averageHue=%23e7e7e7&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u97d3f0f8&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=327780&status=done&style=none&taskId=u22d91359-1042-445d-99b0-1a6769cfa43&title=&width=720)<br />![Screenshot_2023-09-06-16-23-08-571_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693988905088-003de41d-8a6b-448f-9a3c-34c95f341809.jpeg#averageHue=%23e6e4e4&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=x51JD&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=405190&status=done&style=none&taskId=ud29898ce-f631-4020-a5c9-cb9f0eba0af&title=&width=720)

<a name="nCcPR"></a>
#### 最近播放
![Screenshot_2023-09-06-16-23-55-422_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693988957322-27390316-3416-4f6e-9e79-95405b4fc5f6.jpeg#averageHue=%23eaeaea&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=uf7a8548e&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=267297&status=done&style=none&taskId=u693bef45-4a1a-4895-b071-e5053b1587d&title=&width=720)<br />![Screenshot_2023-09-06-16-24-16-889_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693988967206-230f1293-dc73-4abd-9dde-5e34b0d0747f.jpeg#averageHue=%23e4e4e2&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=ubc6e09b7&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=542237&status=done&style=none&taskId=ub1e89ae7-3b20-4797-ac82-b7270efbed0&title=&width=720)<br />![Screenshot_2023-09-06-16-25-15-096_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693988981109-710c616a-04f2-4b9f-a2e6-4d3fbaabec91.jpeg#averageHue=%23e7e7e7&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u785942f4&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=429262&status=done&style=none&taskId=u852bb210-5056-4f68-a451-be526dc07db&title=&width=720)<br />![Screenshot_2023-09-06-16-25-39-147_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693988988437-d8f60cd2-6fe7-4208-b39c-9bf0c601dd58.jpeg#averageHue=%23e2d9d8&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u6912c527&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=438887&status=done&style=none&taskId=u9cfcf9ac-f78c-4f31-8f38-4db8daaa690&title=&width=720)
<a name="QYwgF"></a>
#### 我的收藏
![Screenshot_2023-09-06-16-30-11-973_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693989144190-c298f6ab-81c7-40cd-9754-2323fe275a61.jpeg#averageHue=%23e2dfdc&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u3c533cf5&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=601780&status=done&style=none&taskId=u96ae42a6-e3f3-47d4-8bea-0d3f5ced5d1&title=&width=720)<br />![Screenshot_2023-09-06-16-30-50-908_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693989149562-d3f549ec-7d29-42b7-a019-3eaf33004ee9.jpeg#averageHue=%23bba393&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u1179693d&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=724184&status=done&style=none&taskId=u082a61be-5447-43da-84d9-327404d37c7&title=&width=720)<br />![Screenshot_2023-09-06-16-30-56-899_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693989164106-58746adb-2fef-4856-93d1-7cd8bc3b4a84.jpeg#averageHue=%23e6e6e5&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u2ad9a8a3&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=354235&status=done&style=none&taskId=ue6fb41f0-7ac6-43f4-a03e-feeb6c8ce9a&title=&width=720)<br />![Screenshot_2023-09-06-16-31-42-347_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693989170594-dcaf3c8e-2c58-4465-bca2-8ee4f621eff0.jpeg#averageHue=%23e9e8e7&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u02bdc955&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=284490&status=done&style=none&taskId=uce4a966f-595a-4ab1-93e8-98fcc6098db&title=&width=720)

<a name="TuGS4"></a>
#### 编辑资料
![Screenshot_2023-09-06-16-36-18-634_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693989396192-76fd7f16-df0b-4131-80ce-0c16cbefce43.jpeg#averageHue=%23eaeaea&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u532c5561&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=230859&status=done&style=none&taskId=u202597b7-a703-4fc5-9f3e-38d47ddbfff&title=&width=720)<br />![Screenshot_2023-09-06-16-34-46-944_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693989403855-b255c4d5-7138-41f7-b98d-920c28b70e91.jpeg#averageHue=%237f7f7f&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u3b707234&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=176248&status=done&style=none&taskId=u4e7578b6-7114-421c-bd03-6d2a25b18c5&title=&width=720)<br />![Screenshot_2023-09-06-16-34-56-834_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693989415105-0badb625-5557-47d1-83b6-681ab239946d.jpeg#averageHue=%239e9e9e&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u67bb080a&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=250135&status=done&style=none&taskId=udd49d239-73b1-4608-ab04-2e151b518b6&title=&width=720)<br />![Screenshot_2023-09-06-16-34-50-373_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693989422609-5a2c133b-40b7-40d7-8449-0a8c271f1699.jpeg#averageHue=%239e9e9e&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u252c2f14&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=256245&status=done&style=none&taskId=uc0d4b985-451b-475a-af1c-4786627347d&title=&width=720)

<a name="FdBJL"></a>
### 详情信息展示
<a name="cDF5i"></a>
#### 播放列表页
![Screenshot_2023-09-06-16-46-07-789_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693990090390-3b5568c9-9c03-4657-8bc4-191d5cd69ce0.jpeg#averageHue=%23aeadad&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=ue4b0c07f&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=344984&status=done&style=none&taskId=u08296b56-eac1-4ff0-aa1a-be8b8b1dd9f&title=&width=720)<br />![Screenshot_2023-09-06-16-41-09-074_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693990099071-1af98d01-5255-4e75-917c-e5ea386e3ce3.jpeg#averageHue=%23a6a6a6&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u96dceb22&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=345105&status=done&style=none&taskId=ucd459023-b198-406b-8fc6-549e2adc944&title=&width=720)
<a name="myheb"></a>
#### 歌单/电台 展示页
![Screenshot_2023-09-06-16-48-47-385_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693990242490-5165d4fd-b8b0-4b7c-b698-2bb33925b2d6.jpeg#averageHue=%23ceceb3&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u6578d149&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=398538&status=done&style=none&taskId=u6df97ea0-3537-4b64-9ce7-714dad7b4c2&title=&width=720)<br />![Screenshot_2023-09-06-16-50-23-349_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693990246803-f0854c33-81df-4d1d-9533-3388f8533aa3.jpeg#averageHue=%23d7d3c8&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u3e40af11&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=572205&status=done&style=none&taskId=u2bc10748-50d7-4d10-ac9b-cbc33bbdae9&title=&width=720)
<a name="eMumK"></a>
#### 评论区
![Screenshot_2023-09-06-16-52-28-426_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693990478563-3efcc857-8525-4f7e-8100-2a862302f0c2.jpeg#averageHue=%23e7e7e7&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u39982da5&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=342107&status=done&style=none&taskId=uf5fd47ed-5485-42eb-bffd-7d2aa32cb55&title=&width=720)<br />![Screenshot_2023-09-06-16-52-45-662_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693990483667-2eba18d5-20cf-49dc-b044-a1759f993e79.jpeg#averageHue=%23c1b9ae&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u54853d07&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=380714&status=done&style=none&taskId=u02993150-c763-4993-85f3-7f60237cf53&title=&width=720)<br />![Screenshot_2023-09-06-16-53-07-010_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693990492878-27d2aab0-c9d8-4fc7-a474-46234a5ea7c7.jpeg#averageHue=%23e9e9e8&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u3db1a591&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=284723&status=done&style=none&taskId=ucd68ea0c-3441-425a-808a-072404eb4bd&title=&width=720)<br />![Screenshot_2023-09-06-16-53-56-769_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693990501395-69d426af-4aa4-4aca-9f43-dc4de34658ff.jpeg#averageHue=%23a9a090&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u47fb75f2&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=318901&status=done&style=none&taskId=u8af8152b-edc7-4964-ab96-fd093e8fae1&title=&width=720)

<a name="vsJH4"></a>
### 播放器页面
<a name="YhKal"></a>
#### 音乐播放器
![Screenshot_2023-09-06-17-04-20-984_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693991268626-248fa4aa-e98d-4445-835b-0138d09b8525.jpeg#averageHue=%23aba29d&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u5a326078&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=444010&status=done&style=none&taskId=u544b6964-4778-4f72-b686-dacc31cb2dd&title=&width=720)<br />![Screenshot_2023-09-06-17-01-04-748_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693991273911-86de26bc-57d3-4ad7-828e-d6a2b0845fc2.jpeg#averageHue=%23e0dfdf&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u27679079&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=393969&status=done&style=none&taskId=u0999e258-df03-47f4-a454-d7f57f57092&title=&width=720)<br />![Screenshot_2023-09-06-17-06-27-179_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693991282526-0ca305e0-7d3e-421e-860f-924e5bc08d70.jpeg#averageHue=%23a8a7a7&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u6228f0d2&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=269827&status=done&style=none&taskId=u54ac88a0-1c5e-429a-b542-648d88e2d46&title=&width=720)<br />![Screenshot_2023-09-06-16-59-52-960_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693991287809-42229d8a-40cf-4ea2-9d47-4c0bac8e3201.jpeg#averageHue=%23ada8a5&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=ua7c8a3ad&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=328808&status=done&style=none&taskId=uc4e99ad0-d256-44d4-8d17-e7b3ab57454&title=&width=720)
<a name="i03MF"></a>
#### 视频播放器
![Screenshot_2023-09-06-17-08-59-806_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693991454962-9f11fa94-f0a5-455d-9c6a-8e7f5a5e1bfe.jpeg#averageHue=%238c7a6c&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u9a9ea334&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=336641&status=done&style=none&taskId=u4583db0f-1e1f-4bd7-8d41-971fc2a3a04&title=&width=720)<br />![Screenshot_2023-09-06-17-09-20-629_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693991459794-12bef0ef-27aa-402a-8ffd-9b0818003f44.jpeg#averageHue=%23d7d6d5&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=ueab707c3&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=597186&status=done&style=none&taskId=ud21b49e6-9d79-4a6c-b7e4-839809b9b92&title=&width=720)<br />![Screenshot_2023-09-07-15-22-32-622_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1694071437133-2999f988-2f6a-4f8b-a898-1a65fde09cb3.jpeg#averageHue=%231f1f1f&clientId=uaacc5e6e-5bd4-4&from=paste&height=1560&id=u89bf01f4&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=236689&status=done&style=none&taskId=ua8e4b0c6-175b-4737-be85-5dee980d13e&title=&width=720)<br />![Screenshot_2023-09-07-15-22-26-850_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1694071443511-debf4d48-b6c5-4700-9676-6a038a92fab1.jpeg#averageHue=%232b2929&clientId=uaacc5e6e-5bd4-4&from=paste&height=1560&id=u1c56b8e5&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=556870&status=done&style=none&taskId=u230bc275-5d5e-4a07-8d04-853f10ec350&title=&width=720)
<a name="Jdlxf"></a>

----



# 二次开发

## 克隆运行

### 克隆到本地

例如

```nginx
git clone https://gitee.com/tmaofu/mini-program---cloud-music.git
```



### 安装依赖

进入项目根目录，执行`npm install `安装项目依赖

```nginx
cd ./mini-program---cloud-music
npm install 
```



### 构建依赖

使用微信开发者工具导入项目

![img](https://cdn.nlark.com/yuque/0/2023/png/34576819/1695199637488-64b1b4a8-0954-4acc-9c9f-7dd94e611886.png)

![img](https://cdn.nlark.com/yuque/0/2023/png/34576819/1695199721899-2992cafb-525c-4783-8018-b625c44b8572.png)



开始构建npm包，构建成功后关闭微信开发者工具。

![img](https://cdn.nlark.com/yuque/0/2023/png/34576819/1695199960230-60bab1eb-393b-4160-aacd-61586bb74772.png)



### 部署API接口服务

具体可以参考：

[网易云音乐 NodeJS 版 API](https://binaryify.github.io/NeteaseCloudMusicApi/#/?id=安装)



安装

```nginx
 git clone git@github.com:Binaryify/NeteaseCloudMusicApi.git
 cd NeteaseCloudMusicApi
 npm install
```

运行

```shell
node app.js
```

服务器启动默认端口为 3000, 若不想使用 3000 端口 , 可使用以下命令 : Mac/Linux

```shell
$ PORT=4000 node app.js
```

windows 下使用 git-bash 或者 cmder 等终端执行以下命令 :

```shell
$ set PORT=4000 && node app.js
```



### 配置API接口地址

再次用微信开发者工具打开项目，

编辑`config\config.js`文件中的`baseUrl`为**你的API接口服务的地址**。

```javascript
export default {
  baseUrl: 'http://127.0.0.1:3000',
  cookieKey: 'cookie', //cookie保存本地的key名称
  blogUrl: 'https://www.yuque.com/maofu-rzqcp',
  searchHistoryKey: 'searchHistory'
}
```



### 不校验合法域名

![img](https://cdn.nlark.com/yuque/0/2023/png/34576819/1695200433278-265a1034-0334-4220-955f-0ac2786a6868.png)



### 编译运行

当配置好之后就可以编译运行了

![img](https://cdn.nlark.com/yuque/0/2023/png/34576819/1695200521822-0c0b5f6f-535f-4a25-a60a-75fa47f41983.png)



## 项目目录结构说明
<a name="gNnmX"></a>
### 顶层目录
![J0M~$F736@PKVLP27[]TG{H.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694003692883-df64b58c-34e5-4bd7-bdbd-387816b28870.png#averageHue=%23faf9f7&clientId=u0a64b032-cffd-4&from=paste&height=699&id=favlr&originHeight=1048&originWidth=430&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=71135&status=done&style=none&taskId=u4ef6069d-5976-490c-9271-64a54703792&title=&width=286.6666666666667)<br />api: 管理主包中用到的api接口<br />assets: 存放主包中的静态资源文件<br />behaviors: 存放公用的behaviors<br />components: 存放主包中的组件<br />config: 存放配置文件<br />custom-tab-bar: 自定义tab-bar组件<br />data: 存放一些会用到的数据<br />miniprogram_npm: npm包<br />node_modules: npm包<br />packages: 存放分包<br />pages: 存放主包中的页面<br />store: 状态管理仓库<br />template: 存放主包中的模板<br />utils: 存放工具性质的文件

<a name="Sbe60"></a>
### 目录文件详解
<a name="sava1"></a>
#### assets: 存放主包中的静态资源文件
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694005017486-492f69a2-5417-4d0c-b6b7-f536d9475574.png#averageHue=%23fbfafa&clientId=u0a64b032-cffd-4&from=paste&height=154&id=F8yQS&originHeight=231&originWidth=441&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=17267&status=done&style=none&taskId=uc7a0e351-3697-45b7-bfa9-bd5dd71a321&title=&width=294)<br />flx-TDesign.scss: 修改TDesign样式<br />iconfont.scss: 阿里巴巴图标字体样式<br />index.scss: 存放一些共用样式类<br />variable.scss: 定义了一系列css样式变量

<a name="Kj66D"></a>
#### behaviors: 存放主包中公用的behaviors
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694071041641-6ad1a5f8-d88e-42cd-a059-988fedcf5f1b.png#averageHue=%23f8f5f0&clientId=uaacc5e6e-5bd4-4&from=paste&height=118&id=u3a021682&originHeight=177&originWidth=326&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=14683&status=done&style=none&taskId=u601b3430-e85a-4e4d-9995-7e064588b76&title=&width=217.33333333333334)<br />      injectAppStore.js: 可以向组件或者页面注入应用的状态，例如tab-bar当前的索引值<br />      injectCheckLogin.js: 注入检查登录相关的函数<br />      injectMusicPlayerStore.js：注入音乐播放器相关的状态<br />      injectUserStore.js：注入用户相关的状态
<a name="Qsd4y"></a>

#### components: 存放主包中的组件
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694006631964-62ca9b15-3b28-4a79-be11-28dc9034f7aa.png#averageHue=%23faf9f8&clientId=u0a64b032-cffd-4&from=paste&height=113&id=u283e569a&originHeight=169&originWidth=428&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=10739&status=done&style=none&taskId=ub7b0ee59-4898-4dad-9e5d-c3f5763c510&title=&width=285.3333333333333)<br />common: 存放公共组件<br />home-center: 存放首页中会用到的组件<br />personal-center：存放个人中心页会用到的组件<br />video-center: 存放视频中心页会用到的组件
<a name="vAYrK"></a>
##### common: 存放公共组件
```
├─components
│  ├─common
│  │  ├─comment-area
│  │  ├─comment-item
│  │  ├─info-item-card
│  │  ├─music-player
│  │  ├─my-loading
│  │  ├─play-controll
│  │  ├─program-display-list
│  │  ├─song-display-list
│  │  ├─song-list
│  │  └─touch-panel
```
<a name="fAnCp"></a>
###### comment-area 
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694007312720-6765d68c-40e8-444c-a68f-19e03dbfeb82.png#averageHue=%23eaeae9&clientId=u0a64b032-cffd-4&from=paste&height=592&id=ub7e3ebf0&originHeight=888&originWidth=448&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=138745&status=done&style=none&taskId=uf7c328eb-12e9-4a0b-9a9c-bc081f88819&title=&width=298.6666666666667)
<a name="Wlin4"></a>
###### comment-item
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694007476860-14400394-2b89-425c-a51a-d102e2d677e4.png#averageHue=%23eaeaea&clientId=u0a64b032-cffd-4&from=paste&height=593&id=uf928324c&originHeight=889&originWidth=442&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=138704&status=done&style=none&taskId=u23169ebd-86c1-4a40-9a11-e68de92481c&title=&width=294.6666666666667)
<a name="awVlo"></a>
###### info-item-card
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694007707290-ab17227a-8ad9-4e44-ae13-7aa146476639.png#averageHue=%23e9e7e7&clientId=u0a64b032-cffd-4&from=paste&height=593&id=u1f0f8361&originHeight=889&originWidth=442&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=152695&status=done&style=none&taskId=ucced5faa-2a8c-4095-a9d9-2c53056f12e&title=&width=294.6666666666667)
<a name="qut3U"></a>
###### music-player
![](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693991268626-248fa4aa-e98d-4445-835b-0138d09b8525.jpeg?x-oss-process=image%2Fresize%2Cw_1080%2Climit_0%2Finterlace%2C1#averageHue=%23aba29d&from=url&height=635&id=ob23m&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&status=done&style=none&title=&width=293)
<a name="Dwjws"></a>
###### my-loading
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694071496505-d8cc1260-5d6c-4b47-ad94-8bce103a4362.png#averageHue=%23fcfcfc&clientId=uaacc5e6e-5bd4-4&from=paste&height=41&id=ud28434d1&originHeight=61&originWidth=689&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=5521&status=done&style=stroke&taskId=uc7c25673-4db1-4dff-83f0-98214237c61&title=&width=459.3333333333333)
<a name="GhMmd"></a>
###### play-controll
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694007866377-dd2a9938-7f52-420d-8d34-6e7b867c3163.png#averageHue=%23988374&clientId=u0a64b032-cffd-4&from=paste&height=593&id=u6b622460&originHeight=889&originWidth=443&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=301250&status=done&style=none&taskId=u19ec5f44-e2f4-4403-83be-80fa0397019&title=&width=295.3333333333333)
<a name="HJwyg"></a>
###### program-display-list
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694007991677-b7a113c2-eacb-4392-ad4f-1c868c1cfc89.png#averageHue=%23cfcbc0&clientId=u0a64b032-cffd-4&from=paste&height=591&id=u3d0a0c71&originHeight=887&originWidth=446&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=219199&status=done&style=none&taskId=u8c2a6dd7-7144-4634-b385-778b8385f57&title=&width=297.3333333333333)
<a name="OBlXE"></a>
###### song-display-list
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694008033929-dfb61c15-9276-4d90-a449-5d06a11d53c3.png#averageHue=%23d1d1b6&clientId=u0a64b032-cffd-4&from=paste&height=591&id=uf9764807&originHeight=886&originWidth=440&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=153288&status=done&style=none&taskId=u0dbaf249-e01d-4551-8093-fbe8c672f5a&title=&width=293.3333333333333)
<a name="slOoy"></a>
###### song-list
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694008129016-4375dbed-8ecd-4d9e-be54-3f89800b28d4.png#averageHue=%23a5a5a5&clientId=u0a64b032-cffd-4&from=paste&height=588&id=u3bce8ecd&originHeight=882&originWidth=443&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=126211&status=done&style=none&taskId=u6d41667b-54af-47d9-be77-9fefd599b9f&title=&width=295.3333333333333)
<a name="bC7xN"></a>
###### touch-panel
一个触摸面板组件，可以触发触摸，滑动事件，判断滑动方向，滑动距离等。<br />在音乐播放器组件（music-player）中，个人中心-个人背景卡片中，有使用。

<a name="e6Pa2"></a>
###### 注意：以上组件均在app.json中注册了，可以全局使用

<a name="pMa3I"></a>
##### home-center: 存放首页中会用到的组件
```
├─components
│  ├─home-center
│  │  ├─home-item-card
│  │  └─rank-list-card
```
<a name="FBBSH"></a>
###### home-item-card
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694008803037-e820e890-8f59-435c-90b0-b9f8c0e5793e.png#averageHue=%23978575&clientId=u0a64b032-cffd-4&from=paste&height=593&id=uc388f068&originHeight=889&originWidth=448&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=302911&status=done&style=none&taskId=uc6727889-8c1c-4a5c-8c5c-51d24dd737a&title=&width=298.6666666666667)
<a name="ErILw"></a>
###### rank-list-card
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694008868736-e9606526-eb46-414f-8e4e-729140726004.png#averageHue=%23dfdcda&clientId=u0a64b032-cffd-4&from=paste&height=589&id=u9d20f1a0&originHeight=883&originWidth=442&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=221056&status=done&style=none&taskId=ud67c18cc-5146-47db-bc6c-c2a351b7951&title=&width=294.6666666666667)
<a name="brW2I"></a>
##### personal-center：存放个人中心页会用到的组件
```
├─components
│  ├─personal-center
│  │  ├─collect-songList
│  │  └─create-songList
```
<a name="TGngP"></a>
###### collect-songList
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694009094598-3642cdaf-7e89-4f88-a6a8-8a3c1ce1ee74.png#averageHue=%23e8e6e6&clientId=u0a64b032-cffd-4&from=paste&height=593&id=u48d27c48&originHeight=889&originWidth=444&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=153819&status=done&style=none&taskId=ub7fd054b-4b09-4ea1-8f05-1994e3e8610&title=&width=296)
<a name="ir0Ec"></a>
###### create-songList

<a name="g1LaG"></a>
##### video-center: 存放视频中心页会用到的组件
```
├─components
│  └─video-center
│      ├─commend-video
│      ├─commend-video-item
│      └─mv-video
```
<a name="y3puG"></a>
###### commend-video
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694009334572-492985ac-ece2-4498-b21a-a659578d7282.png#averageHue=%23987211&clientId=u0a64b032-cffd-4&from=paste&height=592&id=u161439b0&originHeight=888&originWidth=441&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=252788&status=done&style=none&taskId=u52f997d1-c68c-439c-a5b0-8766534a4bd&title=&width=294)
<a name="zR59V"></a>
###### commend-video-item
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694009391158-595ef0b3-63d3-476d-b3e4-743a2024d0ad.png#averageHue=%23987211&clientId=u0a64b032-cffd-4&from=paste&height=592&id=uc17e6834&originHeight=888&originWidth=442&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=254653&status=done&style=none&taskId=u55b5c3cb-62d7-4898-b3c9-6c2b91bea81&title=&width=294.6666666666667)
<a name="e03K4"></a>
###### mv-video
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694009452855-9d2b333e-2216-40c1-ac99-b8915da34fb3.png#averageHue=%238c725a&clientId=u0a64b032-cffd-4&from=paste&height=591&id=u113d597a&originHeight=886&originWidth=445&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=317450&status=done&style=none&taskId=u5face733-361a-4781-bfc1-4837f74541c&title=&width=296.6666666666667)
<a name="Mbwtb"></a>
#### config: 存放配置文件
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694006175080-024cc1db-2673-4cac-ab7f-163b4ea440c1.png#averageHue=%23cccfc5&clientId=u0a64b032-cffd-4&from=paste&height=44&id=ufa61dff3&originHeight=66&originWidth=444&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=4632&status=done&style=none&taskId=uc157c562-49f4-4e57-9d80-e4a37e23976&title=&width=296)
```
export default {
  baseUrl: 'http://127.0.0.1:3000',
  cookieKey: 'cookie', //cookie保存本地的key名称
  blogUrl: 'www.maofu123.top',
  searchHistoryKey: 'searchHistory'
}
```
<a name="TPt5F"></a>
#### custom-tab-bar: 自定义tab-bar组件
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694006255832-854134c7-d18c-420d-9463-e95035d930ac.png#averageHue=%23fbfaf8&clientId=u0a64b032-cffd-4&from=paste&height=116&id=ue7d76374&originHeight=174&originWidth=443&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=11571&status=done&style=none&taskId=u778f2833-f2bf-4e56-9ef8-5a9ea7360ea&title=&width=295.3333333333333)<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694057407677-29c0f5c8-48dc-463d-a947-6af140377abb.png#averageHue=%23d7d4d2&clientId=u0a64b032-cffd-4&from=paste&height=590&id=u8750877e&originHeight=885&originWidth=448&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=305515&status=done&style=none&taskId=ud7a22e8e-b5d9-48dd-a4fd-e877b539842&title=&width=298.6666666666667)
<a name="aOLi9"></a>
#### data: 存放一些会用到的数据
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694006330899-ca245005-9e87-4fb7-8e72-1aba38a919f7.png#averageHue=%23faf8f5&clientId=u0a64b032-cffd-4&from=paste&height=66&id=u78e3f9a9&originHeight=99&originWidth=449&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=5094&status=done&style=none&taskId=uc747f6b2-0025-4229-a971-e3b2c0c600d&title=&width=299.3333333333333)<br />存放了省份，城市信息
<a name="VQZNq"></a>
#### miniprogram_npm: npm包
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694006415406-dcf31b76-abe4-437e-84a3-015c298b0766.png#averageHue=%23fbfaf9&clientId=u0a64b032-cffd-4&from=paste&height=113&id=u31d91f53&originHeight=169&originWidth=441&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=14400&status=done&style=none&taskId=ub85696fe-f55a-4f4d-a4ba-09fbe71be93&title=&width=294)

<a name="EB4ud"></a>
#### node_modules: npm包
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694006465915-98324cdb-1b40-4f49-a3bb-912927ea372b.png#averageHue=%23fcfbfa&clientId=u0a64b032-cffd-4&from=paste&height=182&id=ubbd9d0df&originHeight=273&originWidth=431&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=23341&status=done&style=none&taskId=ub48f56ca-31ab-4cd3-afe9-a7be8f28f7d&title=&width=287.3333333333333)

<a name="ot6yI"></a>
#### packages: 存放分包
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694006504591-8b0b8d44-8051-41cb-b36f-01164a9d4008.png#averageHue=%23f7f5f3&clientId=u0a64b032-cffd-4&from=paste&height=141&id=uc784e475&originHeight=211&originWidth=433&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=19906&status=done&style=none&taskId=u6bbcaa33-4a84-409c-9581-10270434d3c&title=&width=288.6666666666667)<br />packges-common: 公共分包<br />packges-home-center: 首页分包，存放了在首页中会进入的页面，要使用的组件，等等资源。<br />packges-personal-center: 个人中心分包<br />packges-sys: 系统分包，存放了登录相关的页面。<br />packges-video-center:   视频中心分包
<a name="dH2DZ"></a>
##### packges-common: 公共分包
```
├─packages
│  ├─package-common
│  │  └─pages
│  │      └─comment-display

```
<a name="ESDTR"></a>
###### pages
| **页面/组件名称** | **功能** |
| --- | --- |
| comment-display | 评论展示页面 |
|  |  |

<br />

##### packges-home-center: 首页分包，存放了在首页中会进入的页面，要使用的组件，等等资源。

```
├─packages
│  ├─package-home-center
│  │  ├─components
│  │  │  ├─broadcaster-item-display
│  │  │  ├─playlist-item-display
│  │  │  ├─search-list
│  │  │  ├─search-result-dj
│  │  │  ├─search-result-playlist
│  │  │  ├─search-result-song
│  │  │  ├─search-result-tabs
│  │  │  ├─search-result-video
│  │  │  └─search-result-voice
│  │  └─pages
│  │      ├─broadcaster-center
│  │      ├─broadcaster-display
│  │      ├─broadcaster-tags
│  │      ├─playlist-center
│  │      ├─playlist-display
│  │      ├─playlist-tags
│  │      ├─recommended-daily
│  │      ├─recommended-playlist
│  │      ├─search-center
│  │      └─toplist-center

```

###### components
| **组件名称** | **功能** |
| --- | --- |
| broadcaster-item-display | ![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694052219494-23820d60-befd-4b73-a49e-3ad54d51b3cb.png#averageHue=%23e7e5e3&clientId=u0a64b032-cffd-4&from=paste&height=591&id=u0b5b9473&originHeight=886&originWidth=445&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=179884&status=done&style=none&taskId=u122f67d3-7f2a-408e-ac9b-5c047ebc70b&title=&width=296.6666666666667) |
| playlist-item-display | ![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694052426585-60d1abb7-0a23-46ea-8f0b-8a69e5990c6c.png#averageHue=%23bbc2ad&clientId=u0a64b032-cffd-4&from=paste&height=593&id=u549af3c1&originHeight=890&originWidth=445&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=414905&status=done&style=none&taskId=u86617f77-6b0b-4564-b207-e73ce2b475c&title=&width=296.6666666666667) |
| search-list | ![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694052833477-02141419-9c65-4500-9c98-ac456c8f7cfd.png#averageHue=%23ededed&clientId=u0a64b032-cffd-4&from=paste&height=593&id=ua6272d01&originHeight=890&originWidth=445&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=77386&status=done&style=none&taskId=u9f2bc841-bbaf-4ce0-ae8f-d251c3d1774&title=&width=296.6666666666667) |
| search-result-dj | 搜索结果展示列表-电台 |
| search-result-playlist | 搜索结果展示列表-歌单 |
| search-result-song | 搜索结果展示列表-歌曲 |
| search-result-tabs | 搜索结果展示的tabs |
| search-result-video | 搜索结果展示列表-视频 |
| search-result-voice | 搜索结果展示列表-声音 |



<a name="ZJ08T"></a>
###### pages
| **页面名称** | **功能** |
| --- | --- |
| broadcaster-center | ![](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693988245620-835fdede-9380-40ce-acc0-ef9ec70fb1e4.jpeg?x-oss-process=image%2Fresize%2Cw_1080%2Climit_0%2Finterlace%2C1#averageHue=%23d7d2d0&from=url&id=PdyVC&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&status=done&style=none&title=) |
| broadcaster-display | ![](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693990246803-f0854c33-81df-4d1d-9533-3388f8533aa3.jpeg?x-oss-process=image%2Fresize%2Cw_1080%2Climit_0%2Finterlace%2C1#averageHue=%23d7d3c8&from=url&id=LffjG&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&status=done&style=none&title=) |
| broadcaster-tags | ![](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1693988250473-6de3edc8-1f99-4b5c-a03c-6fcdc90ec417.jpeg?x-oss-process=image%2Fresize%2Cw_1080%2Climit_0%2Finterlace%2C1#averageHue=%23e4e3e2&from=url&id=KXPt5&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&status=done&style=none&title=) |
| playlist-center | ![Screenshot_2023-09-06-16-11-53-556_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1694051323947-679894c4-e4d8-4d43-bb4c-9e466bbaaa8b.jpeg#averageHue=%23c3c2a6&clientId=u0a64b032-cffd-4&from=drop&id=ud331ce3d&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=842963&status=done&style=none&taskId=u85f9e2a4-7dae-4445-bc07-1f8db99fdae&title=) |
| playlist-display | ![Screenshot_2023-09-06-16-48-47-385_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1694051367039-f04547a2-7597-4e85-9a86-d3756a869eee.jpeg#averageHue=%23ceceb3&clientId=u0a64b032-cffd-4&from=drop&id=u887d125a&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=398538&status=done&style=none&taskId=u0bb3af08-2e2c-4b72-9639-fb9fb7b20ab&title=) |
| playlist-tags | ![Screenshot_2023-09-06-16-12-33-298_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1694051337269-15e1c7b8-7a24-48f4-a829-aed6104854a7.jpeg#averageHue=%23f8f8f6&clientId=u0a64b032-cffd-4&from=drop&id=u441becd3&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=222230&status=done&style=none&taskId=uc4615cb7-621d-4417-af90-d349437cb56&title=) |
| recommended-daily | ![Screenshot_2023-09-06-16-08-10-700_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1694051569720-b18e4dd6-eadd-4e51-8b78-38707d3079ff.jpeg#averageHue=%23e0dedc&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=uf971fa35&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=480027&status=done&style=none&taskId=u0f61a36b-5205-4df5-b165-8e8cc4a451c&title=&width=720) |
| recommended-playlist | ![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694051680278-28717838-381f-42a7-b328-f2a738e6e95b.png#averageHue=%237c7a5c&clientId=u0a64b032-cffd-4&from=paste&height=501&id=u9eb331cf&originHeight=752&originWidth=415&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=388703&status=done&style=none&taskId=ub2c1494d-aa52-4a6d-bad6-b683f360fc7&title=&width=276.6666666666667) |
| search-center | ![Screenshot_2023-09-06-15-46-10-907_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1694051731389-10354790-dbb0-4681-8748-a1a66dbe8f10.jpeg#averageHue=%23ebebeb&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=uf271ed24&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=195049&status=done&style=none&taskId=ufd9633b0-bbcf-4c5a-bb78-18d5d332072&title=&width=720) |
| toplist-center | ![Screenshot_2023-09-06-16-14-40-045_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1694051756816-5f0fda47-6190-44bd-b295-7a90fbb8dd40.jpeg#averageHue=%23cea074&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u9549f176&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=432235&status=done&style=none&taskId=u764bf236-d7f5-4678-a6d6-71be6a803ea&title=&width=720) |


<a name="mN07T"></a>
##### packges-personal-center: 个人中心分包
```
├─packages
│  ├─package-personal-center
│  │  ├─components
│  │  │  ├─ei-form-item
│  │  │  ├─mc-album
│  │  │  ├─mc-dj
│  │  │  ├─mc-video
│  │  │  ├─rp-album
│  │  │  ├─rp-dj
│  │  │  ├─rp-song
│  │  │  ├─rp-songList
│  │  │  ├─rp-video
│  │  │  └─rp-voice
│  │  ├─pages
│  │  │  ├─edit-info
│  │  │  ├─my-collection
│  │  │  ├─mylike-video
│  │  │  └─recent-play
│  │  └─template
│  │      ├─mc-item-card
│  │      └─rp-item-card
```

<a name="Y1MPD"></a>
###### components
| **组件名称** | **功能** |
| --- | --- |
| ei-form-item | ![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694054520495-eb256ff6-c33c-4234-a2a2-9f5ea7df58a4.png#averageHue=%23eeeeee&clientId=u0a64b032-cffd-4&from=paste&height=591&id=u4c959a84&originHeight=887&originWidth=441&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=73170&status=done&style=none&taskId=u9261f35c-301d-4ff4-ad06-a99ed8fc64c&title=&width=294) |
| mc-album | ![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694054646953-6084ea99-2608-4562-ba6f-792588d4cc55.png#averageHue=%23f1eeec&clientId=u0a64b032-cffd-4&from=paste&height=273&id=u83057983&originHeight=409&originWidth=416&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=74936&status=done&style=none&taskId=ub10dccff-276d-4bdb-bb51-4556f47a0f9&title=&width=277.3333333333333) |
| mc-dj | ![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694054696391-7b148653-6a1a-402b-86f9-0f131f213601.png#averageHue=%23f4f3f3&clientId=u0a64b032-cffd-4&from=paste&height=503&id=uc10746ab&originHeight=755&originWidth=418&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=100990&status=done&style=none&taskId=ud79d1b35-5e13-4ccb-b5d9-3e61765a6ad&title=&width=278.6666666666667) |
| mc-video | ![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694054744232-6b5c1631-44e6-4d04-b816-624198e40cc6.png#averageHue=%23f1efec&clientId=u0a64b032-cffd-4&from=paste&height=515&id=u66634696&originHeight=772&originWidth=413&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=169908&status=done&style=none&taskId=uc3777476-e706-4008-83a1-3d1e545a930&title=&width=275.3333333333333) |
| rp-album | 最近播放-专辑 |
| rp-dj | 最近播放-电台 |
| rp-song | 最近播放-歌曲 |
| rp-songList | 最近播放-歌单 |
| rp-video | 最近播放-视频 |
| rp-voice | 最近播放-声音 |

<a name="SbOjg"></a>
###### pages
| **页面名称** | **功能** |
| --- | --- |
| edit-info | ![Screenshot_2023-09-06-16-36-18-634_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1694053588022-a125dc2a-985e-45c7-8b1a-238c76508608.jpeg#averageHue=%23eaeaea&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=uec59e03d&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=230859&status=done&style=none&taskId=u69ad885c-9056-4a93-a57d-cfef3f6b98b&title=&width=720) |
| my-collection | ![Screenshot_2023-09-06-16-30-11-973_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1694053630535-6eed8519-8ea4-4570-9fe5-8380273ab613.jpeg#averageHue=%23e2dfdc&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u816cfd36&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=601780&status=done&style=none&taskId=ua60d65b7-bb48-42d5-8e50-ac37d881bdd&title=&width=720) |
| mylike-video | ![Screenshot_2023-09-06-16-30-50-908_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1694053605486-db7a31b6-e38b-45a8-96b3-f0b43302b2f0.jpeg#averageHue=%23bba393&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=uf6825134&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=724184&status=done&style=none&taskId=u11792671-3d87-4fa3-847e-725159d3c08&title=&width=720) |
| recent-play | ![Screenshot_2023-09-06-16-23-55-422_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1694053686010-f540d692-cdb5-42e1-8577-9e82348f270c.jpeg#averageHue=%23eaeaea&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u71d5b3f1&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=267297&status=done&style=none&taskId=u73e32183-ea1a-4e8f-b7e8-ab9116a511b&title=&width=720) |

<a name="Q9yjv"></a>
###### template
| **模板名称** |                           **功能**                           |
| :----------: | :----------------------------------------------------------: |
| mc-item-card | 我的收藏-信息展示模板<br>![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694054069162-cd89e679-fdc9-47fc-92d6-2f40988e765f.png#averageHue=%23efebe7&clientId=u0a64b032-cffd-4&from=paste&height=304&id=u9c42b960&originHeight=456&originWidth=409&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=97301&status=done&style=none&taskId=uf5d27d6f-4767-4275-abe6-309a658ca5e&title=&width=272.6666666666667)<br/>![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694054103847-18cb3bc2-86e1-421f-ad31-8e72b802289b.png#averageHue=%23f4f3f2&clientId=u0a64b032-cffd-4&from=paste&height=285&id=u14465c26&originHeight=427&originWidth=407&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=56384&status=done&style=none&taskId=uc4b0c131-13bc-4295-9c21-49e1d437a82&title=&width=271.3333333333333)<br/>![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694054133404-0be651be-36c2-43f1-b74d-df4040d623e8.png#averageHue=%23efece8&clientId=u0a64b032-cffd-4&from=paste&height=221&id=u3f466d63&originHeight=332&originWidth=415&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=68723&status=done&style=none&taskId=uf3634588-decb-447d-98d4-e11c2bc3e70&title=&width=276.6666666666667) |
| rp-item-card | 最近播放-信息展示模板<br>![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694053958188-7d6301ca-8850-40cc-a877-63ab3dda057f.png#averageHue=%23f5f4f1&clientId=u0a64b032-cffd-4&from=paste&height=444&id=ue02bed96&originHeight=666&originWidth=409&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=147832&status=done&style=none&taskId=u97b15d27-7ad6-4379-815b-00eb825ab05&title=&width=272.6666666666667)<br/>![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694054004650-c0291530-19b9-49c3-afb8-c5b4340cb1b6.png#averageHue=%23f5f5f4&clientId=u0a64b032-cffd-4&from=paste&height=406&id=u5c9315f7&originHeight=609&originWidth=403&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=102031&status=done&style=none&taskId=u996c813d-346f-41da-9107-894c1d5ce0b&title=&width=268.6666666666667) |


<a name="GB9UV"></a>
##### packges-sys: 系统分包，存放了登录相关的页面。
```
├─packages
│  ├─package-sys
│  │  ├─assets
│  │  │  └─img
│  │  └─pages
│  │      └─login
```
<a name="HGbsg"></a>
###### pages
| **页面名称** | **功能** |
| --- | --- |
| login | ![Screenshot_2023-09-06-16-02-40-878_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1694055287141-a38ad8d5-3816-4840-be50-3915b8f9227e.jpeg#averageHue=%23b2b5b3&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u6a45d619&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=588298&status=done&style=none&taskId=u57e2ca07-f4fc-4b31-b2ac-310c8088d9a&title=&width=720) |


<a name="JdilH"></a>
##### packges-video-center:   视频中心分包
```
├─packages
│  └─package-video-center
│      ├─components
│      │  └─video-play-item
│      └─pages
│          └─video-player
```
<a name="gEHcE"></a>
###### components
| **组件名称** | **功能** |
| --- | --- |
| video-play-item | 视频播放器-每一项<br />![Screenshot_2023-09-06-17-08-59-806_com.tencent.mm.jpg](https://cdn.nlark.com/yuque/0/2023/jpeg/34576819/1694055537006-68ec8ce8-1b93-4c66-b682-cdf311541b47.jpeg#averageHue=%238c7a6c&clientId=u0a64b032-cffd-4&from=paste&height=1560&id=u9cf4e120&originHeight=2340&originWidth=1080&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=336641&status=done&style=none&taskId=uac7caabb-d497-4a5a-8620-6d2af6afe2f&title=&width=720) |

<a name="HLDZI"></a>
###### pages
| **页面名称** | **功能** |
| --- | --- |
| video-player | 视频播放器页面-可滑动加载更多 |


<a name="hbMHi"></a>
#### pages: 存放主包中的页面
```
├─pages
│  ├─TB-home
│  ├─TB-personal-center
│  └─TB-video
```
| **页面名称** | **功能** |
| --- | --- |
| TB-home | 首页 |
| TB-personal-center | 个人中心页 |
| TB-video | 视频中心页 |


<a name="UWApk"></a>
#### store: 状态管理仓库
```
├─store
│  ├─app
│  ├─musicPlayer
│  └─user
```
| **文件名** | **功能** |
| --- | --- |
| app | 关于app的全局状态仓库 |
| musicPlayer | 关于音乐播放器的全局状态仓库 |
| user | 关于用户信息的全局状态仓库 |


<a name="HqtVL"></a>
#### template: 存放主包中的模板
```
├─template
│  ├─common
│  │  └─info-display-card
│  ├─home-center
│  │  └─rank-list-item
│  └─personal-center
│      └─more-operations-item
```
<a name="pU6BX"></a>
##### common：存放公用的模板
| **模板名** | **功能** |
| --- | --- |
| info-display-card | ![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694056649116-03b0fbfe-8bec-46b4-9b3e-1adc2c87ba5d.png#averageHue=%23e7e6e6&clientId=u0a64b032-cffd-4&from=paste&height=589&id=u2c252e93&originHeight=884&originWidth=444&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=208918&status=done&style=none&taskId=uaa3c2b1e-78a8-45b7-ad66-7768bf83072&title=&width=296) |

<a name="STEaB"></a>
##### home-center：存放首页中会用到的模板
| **模板名** | **功能** |
| --- | --- |
| rank-list-item | ![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694056738693-cdd34d5b-5050-4b09-ae62-1519bb089e2f.png#averageHue=%23dfdcda&clientId=u0a64b032-cffd-4&from=paste&height=590&id=u578b261e&originHeight=885&originWidth=446&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=223216&status=done&style=none&taskId=u38d1d781-62cc-428e-ada7-0da2b82402b&title=&width=297.3333333333333) |

<a name="f3sKG"></a>
##### personal-center：存放个人中心页会用到的模板
| **模板名** | **功能** |
| --- | --- |
| more-operations-item | ![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1694057318693-3536dc12-d5a8-4437-ae2b-4a2aeb942e92.png#averageHue=%23818181&clientId=u0a64b032-cffd-4&from=paste&height=449&id=u12b26d8a&originHeight=673&originWidth=411&originalType=binary&ratio=1.5&rotation=0&showTitle=false&size=44655&status=done&style=none&taskId=udf73507c-23b0-4d0e-bdba-82b8762219f&title=&width=274) |

<a name="MOHEu"></a>
#### utils: 存放主包中工具性质的文件
```
└─utils
    │  getArea.js
    │  localStorage.js
    │  request.js
    │  util.js
    │
    ├─filter-js
    │      filter.js
    │
    └─filter-wxs
            filter.wxs
```
| **文件名** | **功能** |
| --- | --- |
| getArea | 获取省份，城市名 |
| localStorage | 本地存储 |
| request | 封装wx.request |
| util | 存放一些工具性质的函数 |
| filter.js | 过滤器 |
| filter.wxs | 过滤器 |



<a name="YOGLY"></a>
## API 接口文档
<a name="FsyPF"></a>
### 接口官网
[网易云音乐 NodeJS 版 API](https://binaryify.github.io/NeteaseCloudMusicApi/#/)
<a name="vf3Qg"></a>
### 我的分享-Apifox
这是我这个项目中用到的一些api接口，接口返回的数据均有示例。<br />[使用须知 - 小程序-云音乐](https://apifox.com/apidoc/shared-d1527336-205c-49ac-91a4-973c853109c6)

<a name="KWIN3"></a>
## 相关问题
<a name="AiFLB"></a>
### 如何修改拦截器
打开` utils/request.js`,修改 `Requester` 类中的方法：

| **方法名** | **功能** |
| --- | --- |
| requestIntercept | 请求拦截器 |
| responseIntercept | 响应拦截器 |
| errIntercept | 错误拦截器 |



<a name="Bptwx"></a>
# 我的开发笔记
<a name="SyKPl"></a>
## 封装 wx.request 
具体实现请查看项目文件下的 `utils/request.js`

<a name="dXpTV"></a>
## 样式相关
<a name="Hkx2a"></a>
### 使用 scss
rpx问题：在scss中没有rpx这个单位

<a name="Y5cVt"></a>
### 使用 iconfont
在小程序中不能使用本地字体

<a name="WtetP"></a>
## TabBar页面
从其他页面跳转tabbar页面时,当前tabbar索引不会改变

<a name="mYcIp"></a>
## behaviors注入stroe
<a name="wmO67"></a>
### 需求
每次使用 `mobx-miniprogram-bindings` 来为组件，页面绑定状态仓库都很麻烦，我们可以写一个 `behavior` 来实现代码的复用。

<a name="IasOr"></a>
### 创建一个`behavior` 
```javascript
import {
  createStoreBindings
} from 'mobx-miniprogram-bindings'
import {
  appStore
} from '@/store/app/app'


export const injectAppStore = Behavior({
  data: {

  },
  lifetimes: {
    attached() {
      this.storeBindings = createStoreBindings(this, {
        store: appStore,
        fields: ['tabBarIndexValue'],
        actions: ['setTabBarIndexValue']
      })
    },

    /**
     * 监听页面卸载
     */
    detached() {
      this.storeBindings.destroyStoreBindings()
    }
  }
})
```

<a name="FRwEd"></a>
### 使用 `behavior` 
```javascript
import {
  injectAppStore
} from '@/behaviors/injectAppStore'

Component({
  behaviors: [injectAppStore],
  ...
})
```
现在你可以在该组件/页面中使用 `tabBarIndexValue`变量，`setTabBarIndexValue`方法了，例如：`this.data.tabBarIndexValue`。<br />注意你最早只能在 `onReady`生命周期中访问到仓库中的数据。


<a name="JrCfX"></a>
## 上传图片
可以封装wx.uploadFile<br />[UploadTask | 微信开放文档](https://developers.weixin.qq.com/miniprogram/dev/api/network/upload/wx.uploadFile.html)

<a name="sewst"></a>
## 工具
<a name="KUxBm"></a>
### 获取相对时间
dayjs<br />[Time from now · Day.js](https://dayjs.gitee.io/docs/zh-CN/display/from-now)<br />其他<br />[Java 实现时间戳显示格式为几天前、几分钟前、几秒前及其应用_时间用分钟展示是前端处理还是后端_Williams_ Z的博客-CSDN博客](https://blog.csdn.net/weixin_41474618/article/details/104702536)<br />[js 时间戳转换成几分钟前，几小时前，几天前（亲测有效）_js,时间戳往前3分钟_Adam——的博客-CSDN博客](https://blog.csdn.net/weixin_44963099/article/details/106357212#:~:text=1%EF%BC%9A%E5%B0%86%E5%BD%93%E5%89%8D%E7%9A%84%E6%97%B6%E9%97%B4%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%AF%AB%E7%A7%92%E6%95%B0%EF%BC%88nowNew%EF%BC%89%202%EF%BC%9A%E5%B0%86%E6%97%B6%E9%97%B4%E6%88%B3%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%A0%87%E5%87%86%E6%97%B6%E9%97%B4%E5%86%8D%E8%BD%AC%E6%8D%A2%E4%B8%BA%E6%AF%AB%E7%A7%92%E6%95%B0,%EF%BC%88millisecond%EF%BC%89%203%EF%BC%9A%E5%B0%86%E4%B8%A4%E8%80%85%E7%9B%B8%E5%87%8F%E7%84%B6%E5%90%8E%E8%BF%9B%E8%A1%8C%E5%88%A4%E6%96%AD)


<a name="TP4kE"></a>
## 报错和解决
<a name="Pdegy"></a>
### Unexpected token `Date`
[wxs中使用date创建实例报错_wxs不支持date_天心天地生的博客-CSDN博客](https://blog.csdn.net/tianxintiandisheng/article/details/82086283)
```javascript
[ WXML 文件编译错误] ./utils/filter-wxs/filter.wxs
Unexpected token `Date`
   9 |   },
  10 |   formatMsgTime: function (timespan) {
> 11 |     var dateTime = new Date(timespan) // 将传进来的字符串或者毫秒转为标准时间
     |                           ^
  12 |     var year = dateTime.getFullYear()
  13 |     var month = dateTime.getMonth() + 1
  14 |     var day = dateTime.getDate()
```
解决：<br />获取当前日期使用getDate()
```javascript
将
var dateTime = new Date(timespan)
替换为
var dateTime = getDate(timespan)
```

<a name="cKVXB"></a>
## 微信API接口
<a name="bmHnm"></a>
### 后台播放音频
获取**全局唯一**的背景音频管理器。 小程序切入后台，如果音频处于播放状态，可以继续播放。但是后台状态不能通过调用API操纵音频的播放状态。<br />从微信客户端6.7.2版本开始，若需要在小程序切后台后继续播放音频，需要在 [app.json](https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html) 中配置 requiredBackgroundModes 属性。开发版和体验版上可以直接生效，正式版还需通过审核。

需要在app.json中添加如下字段：
```javascript
{
  "requireBackgroundModes": ["audio"],
}
```
[BackgroundAudioManager | 微信开放文档](https://developers.weixin.qq.com/miniprogram/dev/api/media/background-audio/wx.getBackgroundAudioManager.html)

<a name="xnTrm"></a>
## 注意事项
<a name="GqZBX"></a>
### 不能通过`this.data.userInfo`拿到数据
使用mobx-miniprogram-bindings绑定`userStore`时,<br />`userInfo`确实会被添加在`this.data`中,但是在一些较早的生命周期中，不能通过`this.data.userInfo`拿到数据。


方式一
```javascript
import {
  userStore
} from '@/store/user/user'
import {
  createStoreBindings
} from 'mobx-miniprogram-bindings'

export const injectUserStore = Behavior({
  lifetimes: {
    attached() {
      this.storeBindings = createStoreBindings(this, {
        store: userStore,
        fields: ['userInfo', 'isUserLogin', 'collectSongList', 'userLikeSongLIst'],
        actions: ['setUserInfo', 'updateUserInfo', 'clearUserInfo']
      })
    },
    detached() {
      this.storeBindings.destroyStoreBindings()
    }
  }
})
```
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1686200110570-7d5921d3-9e7c-48be-8b9d-b614ebae97d0.png#averageHue=%23f8f8f7&clientId=u8d59efec-503a-4&from=paste&height=834&id=uaf988233&originHeight=1042&originWidth=1920&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=223607&status=done&style=none&taskId=u571817a1-65b1-4419-a77f-b0fa61ed569&title=&width=1536)<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1686200183080-1e409924-fadd-4338-a0c9-e336ec655814.png#averageHue=%23f6f5f3&clientId=u8d59efec-503a-4&from=paste&height=834&id=u7e85c02d&originHeight=1042&originWidth=1920&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=276572&status=done&style=none&taskId=u530f7af8-8109-40fd-9b6d-dfed24dfb35&title=&width=1536)<br />方式二<br />![](https://cdn.nlark.com/yuque/0/2023/png/34576819/1685264000427-3d4414d9-3179-4acb-af4a-c7514c747946.png#averageHue=%230c1021&from=url&id=Ozbtw&originHeight=650&originWidth=894&originalType=binary&ratio=1.25&rotation=0&showTitle=false&status=done&style=none&title=)<br />![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1686200643004-9861cf40-41bc-4743-8b49-ace3220ccdb1.png#averageHue=%23f7f6f5&clientId=u8d59efec-503a-4&from=paste&height=834&id=ue89404f8&originHeight=1042&originWidth=1920&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=274927&status=done&style=none&taskId=u0565bb03-9270-4299-86dc-9dfad4457a6&title=&width=1536)<br />在一些其他生命的周期中的情况
```javascript
/**
   * 生命周期函数--监听页面初次渲染完成
   */
onReady() {
  console.log(this.data.userInfo, '555')
},

/**
   * 生命周期函数--监听页面显示
   */
onShow() {
   console.log(this.data.userInfo,'jjj')
},
```
![image.png](https://cdn.nlark.com/yuque/0/2023/png/34576819/1686201605078-6bee6c20-1537-4d31-ade2-4221a00b75e2.png#averageHue=%23f7f6f4&clientId=u8d59efec-503a-4&from=paste&height=834&id=ua7555fc0&originHeight=1042&originWidth=1920&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=263167&status=done&style=none&taskId=uf62713e7-6f65-46bb-a9a0-4cb6b46a4eb&title=&width=1536)

**注意：**<br />目前来看，不可以在onLoad,第一次onShow中通过`this.data.userInfo`来拿到数据；<br />最早可以在onReady中来拿到数据。

<a name="lkXj6"></a>

# 参考
相关视频参考<br />[尚硅谷微信小程序开发（零基础小程序开发入门到精通）_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV12K411A7A2)<br />网易云音乐api接口<br />[https://github.com/Binaryify/NeteaseCloudMusicApi](https://github.com/Binaryify/NeteaseCloudMusicApi)



